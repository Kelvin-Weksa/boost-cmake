#!/bin/sh
# git add . && git commit -m "fleabag" && git push -u origin main

indent() {
  sed -u 's/^/       /'
}

echo "-----> Found a hello.txt"
echo "-----> Installing cmake"

# change to the the BUILD_DIR ($1)
cd $1

# download
curl https://s3.amazonaws.com/mergeguard/cmake.tar.gz -s -O

# make dir
mkdir -p /tmp/codon/vendor

# untar the binary to the directory we want
tar -C /tmp/codon/vendor -xvf cmake.tar.gz

debug=`ls /tmp/codon/vendor/bin`
echo $debug

echo $PATH
# if hello.txt has contents, display them (indented to align)
# otherwise error

if [ ! -s $1/hello.txt ]; then
  echo "hello.txt was empty"
  exit 1
else
  echo "hello.txt is not empty, here are the contents" | indent
  cat $1/hello.txt
fi | indent






